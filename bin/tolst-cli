#!/usr/bin/env node
const { program } = require('commander');
const package = require('../package');

program
    .option('--init', 'helps to init your app')
    .option('--server', 'starts dev server')
    .usage('[command] [options]')
    .version(package.version)
    .on('--help', () => {
        console.log('ДЛя первичной настройки проекта запустите tolst-cli --init')
    })
    .parse();

// we can pre-set up the environment for the platform users
const options = program.opts();
console.log(options)

if (options.init) {
    // install some dependencies
    require('child_process').execSync('npm i react', { stdio: 'inherit' })
    const path = require('path')
    const packagepath = path.resolve('package.json') // find relative to the place where process was started
    const package = require(packagepath)
    console.log(package);
}

if (options.server) {
    console.log('Not implemented yet')
}